<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Job Portal Website</title>
    <link rel="stylesheet" href="../style.css" />
    <link rel="stylesheet" href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" />
</head>

<body>
    <!-- Header -->

    <header>
        <div id="navbar" class="obj-width">
            <a href="../index.html"><img src="../images/logo.png" alt="" srcset="" class="logo" /></a>

            <ul id="menu">
                <li><a href="../index.html">Home</a></li>
                <li><a href="../jobs/jobs.html">Browse Jobs</a></li>
                <li><a href="../contact.html">Contact</a></li>
                <button id="w-btn">Join</button>
            </ul>
            <i id="bar" class="bx bx-menu"></i>
        </div>
    </header>

    <div id="jobDetails" class="extra-space obj-width"></div>

    <!-- footer -->

    <footer class="footer">
        <div class="obj-width">
            <div class="top">
                <div>
                    <img src="../images/logo.png" alt="" class="logo" />
                    <p>Search your desired jobs</p>
                </div>
                <div>
                    <a href="#"><i class="bx bxl-facebook-square"></i></a>
                </div>

                <div>
                    <a href="#"><i class="bx bxl-instagram"></i></a>
                </div>

                <div>
                    <a href="#"><i class="bx bxl-linkedin-square"></i></a>
                </div>

                <div>
                    <a href="#"><i class="bx bxl-twitter"></i></a>
                </div>
            </div>
            <div class="bottom">
                <div>
                    <h3>Project</h3>
                    <a href="#">Changelog</a>
                    <a href="#">Status</a>
                    <a href="#">License</a>
                    <a href="#">All Versions</a>
                </div>

                <div>
                    <h3>Community</h3>
                    <a href="#">Github</a>
                    <a href="#">Issues</a>
                    <a href="#">Project</a>
                    <a href="#">Twitter</a>
                </div>

                <div>
                    <h3>Help</h3>
                    <a href="#">Support</a>
                    <a href="#">Troubleshooting</a>
                    <a href="#">Contact Us</a>
                </div>

                <div>
                    <h3>Others</h3>
                    <a href="#">Terms of service</a>
                    <a href="#">Privacy Policy</a>
                    <a href="#">License</a>
                </div>
            </div>
        </div>
    </footer>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const URLParam = new URLSearchParams(window.location.search);
            const index = URLParam.get("id"); // Fixed variable name

            if (!index || !jCategory || !jCategory[index]) {
                console.error("Invalid job ID or job data is missing.");
                document.getElementById("jobDetails").innerHTML = "<p>Job details not found.</p>";
                return;
            }

            const selectJob = jCategory[index];

            const jobDetailsContainer = document.getElementById("jobDetails");

            jobDetailsContainer.innerHTML = `
            <div class="job-header">
                <div class="job-img-row">
                    <img src="${selectJob.image}" alt="" />
                    <div>
                        <h2>${selectJob.companyName}</h2>
                        <span>${selectJob.location}</span>
                    </div>
                </div>
                <a href="#" id="g-btn">Apply Now</a>
            </div>
    
            <div class="features ">
                <div class="fe-box">
                    <div>
                        <img src="../images/vacancy.png" alt="" />
                        <h3>Vacancy</h3>
                        <p>${selectJob.vacancy}</p>
                    </div>
    
                    <div>
                        <img src="../images/fe 1.png" alt="" />
                        <h3>Position</h3>
                        <p>${selectJob.title}</p>
                    </div>
    
                    <div>
                        <img src="../images/hour.png" alt="" />
                        <h3>Hours</h3>
                        <p>${selectJob.hours}</p>
                    </div>
    
                    <div>
                        <img src="../images/salary.png" alt="" />
                        <h3>Salary</h3>
                        <p>${selectJob.rate}</p>
                    </div>
                </div>
            </div>
    
            <div class="job-description sec-space">
                <h3>Job description</h3>
                <p>${selectJob.description}</p>
                <h3>Employment Status</h3>
                <p>${selectJob.av}</p>
                <h3>Workplace</h3>
                <p>${selectJob.workplace}</p>
                <h3>Educational Requirements</h3>
                <p>${selectJob.education}</p>
                <h3>Experience Requirement</h3>
                <p>${selectJob.experience}</p>
            </div>`;
        });
    </script>


    <script src="jobs-list.js"></script>
    <script src="../toggle.js"></script>
    <script src="jobSearching.js"></script>
</body>

</html>